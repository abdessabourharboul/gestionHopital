<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="/template.xhtml">


        <ui:define name="title">
            <h:outputText value="CREE CLIENT"></h:outputText>
        </ui:define>

        <ui:define name="body">

           <h:form>
                        <h1><h:outputText value="Create/Edit"/></h1>
                        <p:panelGrid columns="2">
                            <p:outputLabel value="Nom:" for="nom" />
                            <p:inputText id="nom" value="#{donneurSangController.donneurSang.nom}" title="Nom" />
                            <p:outputLabel value="Prenom:" for="prenom" />
                            <p:inputText id="prenom" value="#{donneurSangController.donneurSang.prenom}" title="Prenom" />
                            <p:outputLabel value="Age:" for="age" />
                            <p:inputText id="age" value="#{donneurSangController.donneurSang.age}" title="Age" />
                            <p:outputLabel value="Sexe:" for="sexe" />
                            <p:selectOneRadio id="sexe" tabindex="3" value="#{donneurSangController.donneurSang.sexe}" required="true">  
                                <f:selectItem itemLabel="Male" itemValue="Male"  />
                                <f:selectItem itemLabel="Female" itemValue="Female" />
                            </p:selectOneRadio>                  
                            <p:outputLabel value="GroupeSanguin:" for="groupeSanguin" />
                            <p:selectOneMenu id="groupeSanguin" value="#{donneurSangController.donneurSang.groupeSanguin}"  >
                                <!-- TODO: update below reference to list of available items-->
                                <f:selectItem itemLabel="Selectionner Un groupe Sanguin" itemValue="" />
                                <f:selectItem itemLabel="A+" itemValue="A+" />
                                <f:selectItem itemLabel="A-" itemValue="A-" />
                                <f:selectItem itemLabel="B+" itemValue="B+" />
                                <f:selectItem itemLabel="B-" itemValue="B-" />
                                <f:selectItem itemLabel="O+" itemValue="O+" />
                                <f:selectItem itemLabel="O-" itemValue="O-" />
                                <f:selectItem itemLabel="AB+" itemValue="AB+" />
                                <f:selectItem itemLabel="AB-" itemValue="AB-" />           
                            </p:selectOneMenu>
                            <p:outputLabel value="DerniereDonation:" for="derniereDonation" />
                            <p:calendar id="derniereDonation" value="#{donneurSangController.donneurSang.derniereDonation}" title="DerniereDonation" >
                                <f:convertDateTime pattern="dd/MM/yyyy" />
                            </p:calendar>
                        </p:panelGrid>
                        <p:commandButton value="Valider" actionListener="#{donneurSangController.save()}" update=":DonneurSangListForm"/>
                    </h:form>


                    <h:form id="DonneurSangListForm">
                        <h1><h:outputText value="List"/></h1>
                        <p:dataTable value="#{donneurSangController.donneurSangs}" var="item">
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="Id"/>
                                </f:facet>
                                <h:outputText value="#{item.id}"/>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="GroupeSanguin"/>
                                </f:facet>
                                <h:outputText value="#{item.groupeSanguin}"/>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="Nom"/>
                                </f:facet>
                                <h:outputText value="#{item.nom}"/>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="Prenom"/>
                                </f:facet>
                                <h:outputText value="#{item.prenom}"/>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="Age"/>
                                </f:facet>
                                <h:outputText value="#{item.age}"/>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="Sexe"/>
                                </f:facet>
                                <h:outputText value="#{item.sexe}"/>
                            </p:column>

                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="DerniereDonation"/>
                                </f:facet>
                                <h:outputText value="#{item.derniereDonation}">
                                    <f:convertDateTime pattern="MM/dd/yyyy" />
                                </h:outputText>
                            </p:column>

                        </p:dataTable>
                    </h:form>

        </ui:define>
    </ui:composition>

</html>
